{"version":3,"sources":["logo.svg","App.js","reportWebVitals.js","lookup/components.js","lookup/loginLookup.js","books/lookup.js","books/buttons.js","books/detail.js","lookup/registerLookup.js","user/login.js","index.js","books/component.js"],"names":["App","className","src","logo","alt","href","target","rel","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","backEndlookup","method","endpoint","callback","data","jsonData","JSON","stringify","tokken","localStorage","getItem","console","log","xhr","XMLHttpRequest","url","responseType","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","open","setRequestHeader","onload","status","detail","response","window","location","indexOf","onerror","e","send","backEndLoginlookup","apiAddtocartLookup","bookid","action","id","apicartLookup","Button","props","book","index","isDetail","inCart","onRemove","orderid","useState","buttonname","actionName","setActionName","setClassName","handleBackendAddtoCart","handleBackendBuy","handleCartBuyAll","handleReturnBook","alert","onClick","event","bookname","preventDefault","stopPropagation","books","bookarray","forEach","element","push","apiCartBuyLookup","cartbooks","apiReturnBooksLookup","Book","owned","expiry","ordered","deliveryDate","buttonclassName","setButtonClassName","buttonName","setButtonName","isLoading","setIsLoading","handleCartLookup","usercart_set","useEffect","class","style","width","price","type","backEndRegisterlookup","LoginComponent","username","setUsername","password","setPassword","credentials","handleLoginToken","token","setItem","handleRegisterLogin","inputChanged","value","onChange","appEl","getElementById","ReactDOM","render","React","createElement","booksEl","setBooks","handleBackendLookup","Fragment","map","item","dataset","booksdetailEl","setBook","usercartEl","cost","handleBackendCartLookup","handleRemoveCartItem","filter","bookids","ownedBooks","orders","setOrders","duration","ownerfrom","returnamount","returndate","orderedBooks","login","setToken","userLogin","logout","message","setMessage","setStatus"],"mappings":"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","file":"static/js/main.0d96682e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import logo from './logo.svg';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","function getCookie(name) {\r\n  let cookieValue = null;\r\n  if (document.cookie && document.cookie !== '') {\r\n      const cookies = document.cookie.split(';');\r\n      for (let i = 0; i < cookies.length; i++) {\r\n          const cookie = cookies[i].trim();\r\n          // Does this cookie string begin with the name we want?\r\n          if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n              cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n              break;\r\n          }\r\n      }\r\n  }\r\n  return cookieValue;\r\n}\r\n// let tokken=''\r\n// export function setToken(token){\r\n//   tokken=token\r\n//   console.log(\"Token Set \")\r\n// }\r\n// export function getToken(){\r\n//   return token\r\n// }\r\nexport function backEndlookup(method,endpoint,callback,data){\r\n  let jsonData;\r\n  if(data){\r\n    jsonData=JSON.stringify(data)\r\n  }\r\n  let tokken=localStorage.getItem(\"token\")\r\n  console.log(\"Token Passing \",tokken)\r\n  // console.log(data,\"JSON\")\r\n  const xhr=new XMLHttpRequest()\r\n    // const url = `http://127.0.0.1:8000/api${endpoint}`\r\n    const url =`https://projectxweb1.herokuapp.com/api${endpoint}`\r\n    console.log(url,\"URL\")\r\n    xhr.responseType=\"json\"\r\n    const csrftoken=getCookie('csrftoken');\r\n    // console.log(\"csrf\",csrftoken)\r\n    \r\n    xhr.open(method,url)\r\n    xhr.setRequestHeader(\"Content-Type\",\"application/json\")\r\n    if(tokken){\r\n      // console.log(tokken,\"Token Setting\")\r\n      xhr.setRequestHeader(\"Authorization\",`Token ${tokken}`)\r\n    }\r\n    if(csrftoken){\r\n      xhr.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\")\r\n      xhr.setRequestHeader('X-CSRFToken',csrftoken)   // We can use JWT Token  ...Not used here\r\n    }\r\n    xhr.onload=function(){\r\n      // console.log(\"xhr response\",xhr.response,xhr.status)\r\n      if(xhr.status===403){\r\n        const detail=xhr.response.detail\r\n        console.log(detail)\r\n        if(detail===\"Authentication credentials were not provided.\"){\r\n          if(window.location.href.indexOf(\"login\")===-1){\r\n            window.location.href=\"/login?showLoginRequired=true\"\r\n          }\r\n        }\r\n      }\r\n      // console.log(\"RESPONSE\",xhr.response,xhr.status)\r\n      callback(xhr.response,xhr.status)\r\n    }\r\n    \r\n    xhr.onerror=function(e){\r\n      console.log(\"error\",e)\r\n      callback({\"message\":\"The request was an error\"},400)\r\n    }\r\n  xhr.send(jsonData)\r\n}\r\n\r\n\r\n","function getCookie(name) {\r\n    let cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        const cookies = document.cookie.split(';');\r\n        for (let i = 0; i < cookies.length; i++) {\r\n            const cookie = cookies[i].trim();\r\n            // Does this cookie string begin with the name we want?\r\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return cookieValue;\r\n}\r\n  \r\nexport function backEndLoginlookup(data,callback){\r\n    let jsonData;\r\n    if(data){\r\n      jsonData=JSON.stringify(data)\r\n    }\r\n    // console.log(data,\"JSON\")\r\n    const xhr=new XMLHttpRequest()\r\n      // const url = `http://127.0.0.1:8000/auth/`\r\n      const url=`https://projectxweb1.herokuapp.com/auth/`\r\n      xhr.responseType=\"json\"\r\n      const csrftoken=getCookie('csrftoken');\r\n      // console.log(\"csrf\",csrftoken)\r\n      let method=\"POST\"\r\n      xhr.open(method,url)\r\n      xhr.setRequestHeader(\"Content-Type\",\"application/json\")\r\n      if(csrftoken){\r\n        xhr.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\")\r\n        xhr.setRequestHeader('X-CSRFToken',csrftoken)   // We can use JWT Token  ...Not used here\r\n      }\r\n      xhr.onload=function(){\r\n        // console.log(\"xhr response\",xhr.response,xhr.status)\r\n        if(xhr.status===403){\r\n          const detail=xhr.response.detail\r\n          console.log(detail)\r\n          // if(detail===\"Authentication credentials were not provided.\"){\r\n          //   if(window.location.href.indexOf(\"login\")===-1){\r\n          //     window.location.href=\"/login?showLoginRequired=true\"\r\n          //   }\r\n          // }\r\n        }\r\n        // console.log(\"RESPONSE\",xhr.response,xhr.status)\r\n        callback(xhr.response,xhr.status)\r\n      }\r\n      \r\n      xhr.onerror=function(e){\r\n        console.log(\"error\",e)\r\n        callback({\"message\":\"The request was an error\"},400)\r\n      }\r\n    xhr.send(jsonData)\r\n  }\r\n  \r\n  \r\n  ","import { backEndlookup } from \"../lookup\";\r\n\r\nexport function apiBooksLookup(callback){\r\n    backEndlookup(\"GET\",\"/books/\",callback)\r\n}\r\n\r\nexport function apiAddtocartLookup(bookid,action,callback){\r\n    // {\"action\":\"Add\",\"id\":}\r\n        const data={action:action,id:bookid}\r\n        backEndlookup(\"POST\",\"/books/cart/\",callback,data)\r\n}\r\n\r\nexport function apicartLookup(callback){\r\n    backEndlookup(\"GET\",\"/books/cart/\",callback)\r\n}\r\n\r\nexport function apiCartBuyLookup(books,callback){\r\n    let bookarray=[]\r\n    books.forEach(element => {\r\n        bookarray.push({\"id\":element})\r\n    });\r\n    const data={\"action\":\"Buy\",\"detail\":bookarray}\r\n    backEndlookup(\"POST\",\"/books/cart/\",callback,data)\r\n}\r\n\r\nexport function apiBookDetailLookup(bookname,callback){\r\n    backEndlookup(\"GET\",`/books/${bookname}/detail`,callback)\r\n}\r\n\r\nexport function apiBookDetailBuyLookup(bookname,callback){\r\n    const data={\"action\":\"Buy\"}\r\n    backEndlookup(\"POST\",`/books/${bookname}/`,callback,data)\r\n}\r\n\r\nexport function apiOwnedBooksLookup(callback){\r\n    backEndlookup(\"GET\",\"/books/owned/\",callback)\r\n}\r\n\r\nexport function apiReturnBooksLookup(orderid,callback){\r\n    // {\"action\":\"Return\",\"detail\":[{\"orderid\": 69},{\"orderid\": 69}]}\r\n    const data={action:\"Return\",detail:[{orderid:orderid}]}\r\n    console.log(data,\"Data\")\r\n    backEndlookup(\"POST\",\"/books/owned/\",callback,data)\r\n}\r\n\r\nexport function apiOrderedBooksLookup(callback){\r\n    backEndlookup(\"GET\",\"/books/ordered/\",callback)\r\n}","import { useState } from \"react\"\r\nimport { apiAddtocartLookup, apiBookDetailBuyLookup, apiCartBuyLookup, apiReturnBooksLookup } from \"./lookup\"\r\n\r\nexport function Button(props){\r\n    const {book,index,isDetail,inCart,onRemove,orderid}=props\r\n    // console.log(props.buttonname)\r\n    // console.log(\"abcd \",props.cartbooks)\r\n    const [actionName,setActionName]=useState(props.buttonname ? props.buttonname : null)\r\n    // console.log(\"actionname\",actionName)\r\n    const [className,setClassName]=useState(props.className ? props.className : null)\r\n    const handleBackendAddtoCart=(response,status)=>{\r\n        console.log(\"Add To Cart \",response,status)\r\n        if(status===201){\r\n            if(actionName===\"Add To Cart\"){\r\n                setActionName(\"Remove\")\r\n                setClassName(\"btn btn-danger\")\r\n            }\r\n            else if(actionName===\"Remove\"){\r\n                if(inCart===true){\r\n                    onRemove(index)\r\n                }\r\n                else{\r\n                    setActionName(\"Add To Cart\")\r\n                    setClassName(\"btn btn-primary\")\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleBackendBuy=(response,status)=>{\r\n        console.log(\"BUY \",response,status)\r\n    }\r\n\r\n    const handleCartBuyAll=(response,status)=>{\r\n        console.log(\"Cart Buy All\",response,status)\r\n        console.log(\"Buy All Successfull \")\r\n    }\r\n\r\n    const handleReturnBook=(response,status)=>{\r\n        console.log(response,status)\r\n        if(response.detail===\"Book Not Delivered\"){\r\n            alert(\"Book Not Delivered\")\r\n        }\r\n        else{\r\n            setClassName(\"btn btn-secondary disabled\")\r\n            setActionName(\"Book Processing for Return\")\r\n        }\r\n    }\r\n\r\n    const handleButtonClick=(event)=>{\r\n        // console.log(\"Button Click\",event.target.textContent)\r\n        let action=actionName\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n\r\n        if(actionName===\"Add To Cart\"){\r\n            action=\"Add\"\r\n            apiAddtocartLookup(book.id,action,handleBackendAddtoCart)\r\n        }\r\n        else if(actionName===\"Remove\"){\r\n            action=\"Remove\"\r\n            apiAddtocartLookup(book.id,action,handleBackendAddtoCart)\r\n        }\r\n        else if(actionName===\"Buy\"){\r\n            if(isDetail){\r\n                apiBookDetailBuyLookup(book.name,handleBackendBuy)\r\n            }\r\n            else{\r\n                window.location.href=`${book.name}/detail/`\r\n            }\r\n        }\r\n        else if(actionName===\"Buy All\"){\r\n            apiCartBuyLookup(props.cartbooks,handleCartBuyAll)\r\n        }\r\n        else if(actionName===\"Return Book\"){\r\n            apiReturnBooksLookup(orderid,handleReturnBook)\r\n            console.log(orderid,\"order ID OnClick\")\r\n        }\r\n    }\r\n\r\n    return <button className={className} onClick={handleButtonClick}>{actionName}</button>\r\n}","import { Button } from \"./buttons\"\r\nimport { useState,useEffect } from \"react\"\r\nimport { apicartLookup } from \"./lookup\"\r\n\r\nexport function Book(props){\r\n    const {book,index,className,isDetail,inCart,onRemove,owned,expiry,orderid,ordered,deliveryDate}=props\r\n    const [buttonclassName,setButtonClassName]=useState(owned ? expiry ? \"btn btn-secondary disabled\" : \"btn btn-danger\" : ordered ? \"btn btn-danger disabled\" : \"btn btn-primary\")\r\n    const [buttonName,setButtonName]=useState(owned ? expiry ? \"Book Processing for Return\" : \"Return Book\" :ordered ? `Estimated Delivery Date : ${deliveryDate}` : \"Add To Cart\")\r\n    const [isLoading,setIsLoading]=useState(true)\r\n    // console.log(\"Book\",book)\r\n    // console.log(isDetail)\r\n    const handleRemoveCartItem=(index)=>{\r\n      onRemove(index)\r\n    }\r\n\r\n    const handleCartLookup=(response,status)=>{\r\n      // console.log(\"Cart Items \",response.usercart_set)\r\n      if(status===403){\r\n        // console.log(\"Errror\")\r\n      }\r\n      else{\r\n        let items=response.usercart_set\r\n        items.forEach(element => {\r\n          // console.log(element.book.id)\r\n          if(element.book.id===book.id){\r\n            setButtonClassName(\"btn btn-danger\")\r\n            setButtonName(\"Remove\")\r\n          }\r\n        });\r\n      }\r\n      setIsLoading(false)\r\n    }\r\n      useEffect(()=>{\r\n          apicartLookup(handleCartLookup)\r\n      },[])\r\n    \r\n    // console.log(\"Button Name\",buttonName)\r\n    // console.log(owned)\r\n    // console.log(orderid,\"Order ID\")\r\n    return isLoading===true ? \"\" :<div className={`${className} mt-3`}><div class=\"card h-100\" style={{width: 18+'rem' }}>\r\n    <img class=\"card-img-top\" src=\"...\" alt=\"Card image cap\" />\r\n    <div class=\"card-body\">\r\n      <h5 class=\"card-title\">{book.name}</h5>\r\n      <p class=\"card-text\">{book.price} {book.type}</p>\r\n      {!owned && !ordered && <Button buttonname=\"Buy\" className=\"btn btn-primary\" book={book} isDetail={isDetail} />}\r\n      <Button buttonname={buttonName} className={buttonclassName} book={book} inCart={inCart} onRemove={handleRemoveCartItem} index={index} orderid={orderid}/>\r\n    </div>\r\n    </div>\r\n  </div>\r\n    \r\n    \r\n}","function getCookie(name) {\r\n    let cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        const cookies = document.cookie.split(';');\r\n        for (let i = 0; i < cookies.length; i++) {\r\n            const cookie = cookies[i].trim();\r\n            // Does this cookie string begin with the name we want?\r\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return cookieValue;\r\n}\r\n  \r\nexport function backEndRegisterlookup(data,callback){\r\n    let jsonData;\r\n    if(data){\r\n      jsonData=JSON.stringify(data)\r\n    }\r\n    // console.log(data,\"JSON\")\r\n    const xhr=new XMLHttpRequest()\r\n      const url = 'http://127.0.0.1:8000/api/books/users'\r\n      xhr.responseType=\"json\"\r\n      const csrftoken=getCookie('csrftoken');\r\n      // console.log(\"csrf\",csrftoken)\r\n      let method=\"POST\"\r\n      xhr.open(method,url)\r\n      xhr.setRequestHeader(\"Content-Type\",\"application/json\")\r\n      if(csrftoken){\r\n        xhr.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\")\r\n        xhr.setRequestHeader('X-CSRFToken',csrftoken)   // We can use JWT Token  ...Not used here\r\n      }\r\n      xhr.onload=function(){\r\n        // console.log(\"xhr response\",xhr.response,xhr.status)\r\n        if(xhr.status===403){\r\n          const detail=xhr.response.detail\r\n          console.log(detail)\r\n          // if(detail===\"Authentication credentials were not provided.\"){\r\n          //   if(window.location.href.indexOf(\"login\")===-1){\r\n          //     window.location.href=\"/login?showLoginRequired=true\"\r\n          //   }\r\n          // }\r\n        }\r\n        // console.log(\"RESPONSE\",xhr.response,xhr.status)\r\n        callback(xhr.response,xhr.status)\r\n      }\r\n      \r\n      xhr.onerror=function(e){\r\n        console.log(\"error\",e)\r\n        callback({\"message\":\"The request was an error\"},400)\r\n      }\r\n    xhr.send(jsonData)\r\n  }\r\n  \r\n  \r\n  ","import React, { useState } from 'react'\r\nimport { backEndLoginlookup } from '../lookup/loginLookup'\r\nimport { backEndRegisterlookup } from '../lookup/registerLookup'\r\n\r\nexport function LoginComponent(props){\r\n    const [username,setUsername]=useState(\"\")\r\n    const [password,setPassword]=useState(\"\")\r\n    // const {userLogin}=props\r\n    // console.log(userLogin)\r\n    let credentials={username:username,password:password}\r\n    const handleLoginToken=(response,status)=>{\r\n        if(status===400){\r\n            alert(\"Wrong Credentials\")\r\n        }\r\n        else if(status===200){\r\n            console.log(response.token,status)\r\n            // setToken(JSON.stringify(response.token))\r\n            localStorage.setItem(\"token\",`${response.token}`)\r\n            window.location.href=\"/\"\r\n        }\r\n    }\r\n    const handleRegisterLogin=(response,status)=>{\r\n        console.log(\"Register \",response,status)\r\n        if(status===200){\r\n            backEndLoginlookup(credentials,handleLoginToken)\r\n            // window.location.href=\"/\"\r\n        }\r\n        if(response.username[0]===\"A user with that username already exists.\"){\r\n            alert(\"User Already Exists\")\r\n        }\r\n\r\n    }\r\n    const login=(event)=>{\r\n        // console.log(JSON.stringify(credentials))\r\n        // fetch('http://127.0.0.1:8000/auth/',{\r\n        //     method:'POST',\r\n        //     headers:{'Content-Type':\"application/json\"},\r\n        //     body:JSON.stringify(credentials)\r\n        // }).then(data=>data.json()).then(\r\n        //     data=>{\r\n        //         console.log(data)\r\n        //         // userLogin(data.token)\r\n        //     }\r\n        // ).catch(error=>console.log(error))\r\n        backEndLoginlookup(credentials,handleLoginToken)\r\n    }\r\n    const register=(event)=>{\r\n        // console.log(JSON.stringify(credentials))\r\n        // fetch('http://127.0.0.1:8000/api/books/users',{\r\n        //     method:'POST',\r\n        //     headers:{'Content-Type':\"application/json\"},\r\n        //     body:JSON.stringify(credentials)\r\n        // }).then(data=>data.json()).then(\r\n        //     data=>{\r\n        //         // console.log(data.token)\r\n        //         // userLogin(data.token)\r\n        //         console.log(data)\r\n\r\n        //     }\r\n        // ).catch(error=>console.log(error))\r\n        backEndRegisterlookup(credentials,handleRegisterLogin)\r\n    }\r\n    const inputChanged=(event)=>{\r\n        let targetname=event.target.name\r\n        targetname===\"username\" ? setUsername(event.target.value) : setPassword(event.target.value)\r\n        // console.log(credentials)\r\n    }\r\n    return <div>\r\n        <h1>Login User Form</h1>\r\n        <label>\r\n            Username :\r\n            <input type=\"text\" name=\"username\" value={credentials.username} onChange={inputChanged}></input>\r\n        </label>\r\n        <label>\r\n            Password :\r\n            <input type=\"password\" name=\"password\" value={credentials.password} onChange={inputChanged}></input>\r\n        </label>\r\n        <button onClick={login} >Login</button>\r\n        <button onClick={register} >Register</button>\r\n    </div>\r\n}\r\n\r\nexport function LoginParentComponent(props){\r\n    const [token,setToken]=useState('')\r\n    const userLogin=(token)=>{\r\n        console.log(token)\r\n        setToken(token)\r\n    }\r\n    return <LoginComponent userLogin={userLogin} />\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BooksComponent,BookDetailComponent,CartComponent } from './books';\nimport { OrderedBooksComponent, OwnedBooksComponent ,LogoutComponent} from './books/component';\nimport { LoginParentComponent } from './user/login';\n\nconst appEl = document.getElementById('root')\nif(appEl){\n  ReactDOM.render(<App />,appEl);\n}\n\nconst e=React.createElement\nconst booksEl=document.getElementById('books')\nif(booksEl){\n  ReactDOM.render(e(BooksComponent,booksEl.dataset),booksEl);\n}\n\nconst booksdetailEl=document.getElementById('bookdetail')\nif(booksdetailEl){\n  ReactDOM.render(e(BookDetailComponent,booksdetailEl.dataset),booksdetailEl);\n}\n\nconst usercartEl=document.getElementById('usercart')\nif(usercartEl){\n  ReactDOM.render(e(CartComponent,usercartEl.dataset),usercartEl);\n}\n\nconst ownedBooks=document.getElementById('ownedBooks')\nif(ownedBooks){\n  ReactDOM.render(e(OwnedBooksComponent,ownedBooks.dataset),ownedBooks);\n}\n\nconst orderedBooks=document.getElementById('orderedBooks')\nif(orderedBooks){\n  ReactDOM.render(e(OrderedBooksComponent,orderedBooks.dataset),orderedBooks);\n}\n\n\nconst login=document.getElementById('login')\nif(login){\n  ReactDOM.render(e(LoginParentComponent,login.dataset),login);\n}\n\nconst logout=document.getElementById('logout')\nif(logout){\n  ReactDOM.render(e(LogoutComponent,logout.dataset),logout);\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React,{useState,useEffect} from 'react'\r\nimport { apiBookDetailLookup, apiBooksLookup, apiCartBuyLookup, apicartLookup, apiOrderedBooksLookup, apiOwnedBooksLookup } from './lookup'\r\nimport { Book } from './detail'\r\nimport { Button } from './buttons'\r\n\r\nexport function BooksComponent(props){\r\n    const [books,setBooks]=useState([])\r\n    const [isLoading,setIsLoading]=useState(true)\r\n    const handleBackendLookup=(response,status)=>{\r\n        console.log(\"response\",response,status)\r\n        setBooks(response) \r\n        setIsLoading(false)\r\n    }\r\n    useEffect(()=>{\r\n        apiBooksLookup(handleBackendLookup)\r\n    },[])\r\n    return isLoading===true ? \"Loading\" :<React.Fragment>\r\n                {books.map((item,index)=>{\r\n                    return <Book book={item} key={`${index}-{item.id}`}/>\r\n                })}\r\n            </React.Fragment>\r\n}\r\n\r\nexport function BookDetailComponent(props){\r\n    const [book,setBook]=useState(null)\r\n    const [isLoading,setIsLoading]=useState(true)\r\n    // console.log(\"Props \",props.bookname)\r\n    const handleBackendLookup=(response,status)=>{\r\n        console.log(\"Book Detail Lookup\",response,status)\r\n        setBook(response[0])\r\n        setIsLoading(false)\r\n    }\r\n    useEffect(()=>{\r\n        apiBookDetailLookup(props.bookname,handleBackendLookup)\r\n    },[])\r\n    return isLoading===true ? \"\" :<Book book={book} isDetail />\r\n}\r\n\r\nexport function CartComponent(props){\r\n    const [books,setBooks]=useState([])\r\n    const [isLoading,setIsLoading]=useState(true)\r\n    let cost=0\r\n    useEffect(()=>{\r\n        apicartLookup(handleBackendCartLookup)\r\n    },[])\r\n    \r\n    const handleBackendCartLookup=(response,status)=>{\r\n        console.log(\"Cart Lookup \",response.usercart_set,status)\r\n        setBooks(response.usercart_set)\r\n        setIsLoading(false)\r\n    }\r\n\r\n    const handleRemoveCartItem=(index)=>{\r\n        setBooks(books.filter(item => books.indexOf(item) !== index))\r\n    }\r\n    let bookids=books.map((item,index)=>{\r\n        console.log(item.book.price)\r\n        cost=cost+item.book.price\r\n        // setTotalCost(item.book.price)    Going Infinite Loop\r\n        return item.book.id\r\n    })\r\n\r\n    // books.map((item,index)=>{console.log(item.book)})\r\n    return isLoading ? \"\" : bookids.length===0 ? <div className=\"text-muted\">Cart Is Empty</div> :<div>\r\n        {books.map((item,index)=>{\r\n            return <Book book={item.book} key={index} index={index} inCart onRemove={handleRemoveCartItem} />\r\n        })}\r\n        {bookids.length!==0 && <Button buttonname=\"Buy All\" className=\"btn btn-primary\" cartbooks={bookids} />}\r\n        {bookids.length!==0 && <div>Total Cost {cost}</div>}\r\n    </div>\r\n}\r\n\r\nexport function OwnedBooksComponent(props){\r\n    const [orders,setOrders]=useState([])\r\n    const [isLoading,setIsLoading]=useState(true)\r\n\r\n    useEffect(()=>{\r\n        apiOwnedBooksLookup(handleBackendLookup)\r\n        setIsLoading(false)\r\n    },[])\r\n\r\n    const handleBackendLookup=(response,status)=>{\r\n        setOrders(response)\r\n        console.log(response)\r\n        console.log(\"order\",orders)\r\n    }\r\n    return isLoading ? \"Loading\" : <div> {orders.map((item,index)=>{\r\n        return <div className=\"border border-secondary mt-3\">\r\n                <div>Order Id : {item.orderid}</div>\r\n                <Book book={item.book} key={index} owned expiry={item.expiry} orderid={item.orderid}/>\r\n                <div>Order Duration :{item.duration}</div>\r\n                <div>OwnerFrom : {item.ownerfrom}</div>\r\n                <div>Book Expiry : {item.expiry}</div>\r\n                <div>Book Return Amount : {item.returnamount}</div>\r\n                <div>Boom Return Date : {item.returndate}</div>\r\n            </div>\r\n    })}\r\n    </div>\r\n}\r\n\r\nexport function OrderedBooksComponent(props){\r\n    const [orders,setOrders]=useState([])\r\n    const [isLoading,setIsLoading]=useState(true)\r\n\r\n    const handleBackendLookup=(response,status)=>{\r\n        // console.log(response,status)\r\n        setOrders(response)\r\n        setIsLoading(false)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        apiOrderedBooksLookup(handleBackendLookup)\r\n    },[])\r\n\r\n    return isLoading ? \"Loading\" : <div>\r\n        {orders.map((item,index)=>{\r\n            return <div>\r\n                <div>Order ID : {item.id}</div>\r\n                <Book book={item.book} key={index} ordered deliveryDate={item.deliveryDate} />\r\n                <div>Delivery Date : {item.deliveryDate} </div>\r\n            </div>\r\n        })}\r\n    </div>\r\n}\r\n\r\nexport function LogoutComponent(props){\r\n    const [message,setMessage]=useState(\"Are You Sure You Want to Logout ? \")\r\n    const [status,setStatus]=useState(true)\r\n    const handleLogout=()=>{\r\n        localStorage.setItem('token','')\r\n        setMessage(\"Log Out Successfull\")\r\n        setStatus(false)\r\n    }\r\n    useEffect(()=>{\r\n        let token=localStorage.getItem('token')\r\n        if(token){\r\n            setStatus(true)\r\n            console.log(token,\"TOKEN\")\r\n        }\r\n        else{\r\n            setStatus(false)\r\n        }\r\n    },[])\r\n    return <div>\r\n        <div>{message}</div>\r\n        {status===true && <button onClick={handleLogout}>Logout</button>}\r\n        </div>\r\n}"],"sourceRoot":""}